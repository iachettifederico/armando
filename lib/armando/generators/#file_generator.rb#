module Armando
  class FileGenerator < Armando::Generator
    def initialize(file_name, arguments=[])
      @file_name = file_name
      @indent_level = 0
      super(arguments)
    end

    def generate!
      File.write(file_name, render)
    end

    def render
      @_content = []

      content

      newline

      @_content.join("\n")
    end

    private

    attr_reader :file_name
    attr_reader :indent_level


    def line(str, indent: 0)
      @_content << indentation + str
    end

    def newline
      line ''
    end

    def indentation
      ' ' * (indent_level*2)
        def incr_indent
      @indent_level += 1
    end
  end
end
